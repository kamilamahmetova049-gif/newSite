<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Camelia — Оформление заказа</title>
    <link rel="stylesheet" href="/css/styles.css">
    <script src="/js/app.js" defer></script>
</head>
<body>
    <header class="hero">
        <nav class="nav">
            <div class="logo">Camelia</div>
            <div class="nav-links">
                <a href="/">Главная</a>
                <a href="/shop">Каталог</a>
                <a href="/cart">Корзина</a>
            </div>
            <a class="nav-btn" href="/cart">Корзина</a>
        </nav>
        <div class="hero-content">
            <p class="eyebrow">Camelia Checkout</p>
            <h1>Оформление заказа</h1>
            <p class="hero-text">Заполните данные для доставки и выберите способ оплаты.</p>
        </div>
    </header>

    <section class="section">
        <div class="checkout-container">
            <div class="checkout-form-container">
                <h2>Данные получателя</h2>
                <form action="/order/create" method="post" class="checkout-form">
                    <div class="form-group">
                        <label for="customerName">Имя и фамилия *</label>
                        <input type="text" id="customerName" name="customerName" required placeholder="Например, Айгерим Нурланова">
                    </div>
                    
                    <div class="form-group">
                        <label for="customerEmail">Email *</label>
                        <input type="email" id="customerEmail" name="customerEmail" required placeholder="example@mail.kz">
                    </div>
                    
                    <div class="form-group">
                        <label for="customerPhone">Телефон *</label>
                        <input type="tel" id="customerPhone" name="customerPhone" required placeholder="+7 (___) ___-__-__">
                    </div>
                    
                    <div class="form-group">
                        <label for="city">Город *</label>
                        <select id="city" name="city" required>
                            <option value="">Выберите город</option>
                            <option value="Алматы">Алматы</option>
                            <option value="Астана">Астана</option>
                            <option value="Шымкент">Шымкент</option>
                            <option value="Караганда">Караганда</option>
                            <option value="Актобе">Актобе</option>
                            <option value="Другой">Другой</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="address">Адрес доставки *</label>
                        <textarea id="address" name="address" required rows="3" placeholder="Улица, дом, квартира"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>Способ оплаты *</label>
                        <div class="payment-methods">
                            <label class="payment-option">
                                <input type="radio" name="paymentMethod" value="CARD" required>
                                <span>Банковская карта</span>
                            </label>
                            <label class="payment-option">
                                <input type="radio" name="paymentMethod" value="CASH" required>
                                <span>Наличными при получении</span>
                            </label>
                            <label class="payment-option">
                                <input type="radio" name="paymentMethod" value="KASPI" required>
                                <span>Kaspi.kz</span>
                            </label>
                        </div>
                    </div>
                    
                    <button type="submit" class="primary checkout-submit">Оплатить <span id="checkout-total" th:text="${#numbers.formatDecimal(total, 0, 'COMMA', 0, 'POINT')} + ' ₸'"></span></button>
                </form>
            </div>
            
            <div class="order-summary">
                <h2>Ваш заказ</h2>
                <div class="order-items">
                    <div th:each="item : ${items}" class="order-item">
                        <div class="order-item-info">
                            <h4 th:text="${item.product.name}"></h4>
                            <span th:text="${item.quantity} + ' × ' + ${#numbers.formatDecimal(item.product.price, 0, 'COMMA', 0, 'POINT')} + ' ₸'"></span>
                        </div>
                        <span class="order-item-total" th:text="${#numbers.formatDecimal(item.totalPrice, 0, 'COMMA', 0, 'POINT')} + ' ₸'"></span>
                    </div>
                </div>
                <div class="order-total">
                    <div class="summary-row">
                        <span>Товаров:</span>
                        <span th:text="${#lists.size(items)}"></span>
                    </div>
                    <div class="summary-row total">
                        <span>Итого:</span>
                        <span th:text="${#numbers.formatDecimal(total, 0, 'COMMA', 0, 'POINT')} + ' ₸'"></span>
                    </div>
                </div>
            </div>
        </div>
    </section>
</body>
</html>

